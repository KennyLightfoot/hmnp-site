#!/bin/sh

# Skip gitleaks scan if binary not available (CI has it, local dev may not)
if command -v gitleaks >/dev/null 2>&1; then
  gitleaks protect --staged --verbose || exit 1
else
  echo "[husky] gitleaks not installed â€“ skipping secret scan"
fi

# Basic code quality gate (fast)
pnpm lint -s 